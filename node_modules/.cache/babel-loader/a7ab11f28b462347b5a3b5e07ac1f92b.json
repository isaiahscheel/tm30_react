{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n'use strict';\n\nvar appendArrayMultiPointValues = require('../../components/fx/helpers').appendArrayMultiPointValues; // Note: like other eventData routines, this creates the data for hover/unhover/click events\n// but it has a different API and goes through a totally different pathway.\n// So to ensure it doesn't get misused, it's not attached to the Pie module.\n\n\nmodule.exports = function eventData(pt, trace) {\n  var out = {\n    curveNumber: trace.index,\n    pointNumbers: pt.pts,\n    data: trace._input,\n    fullData: trace,\n    label: pt.label,\n    color: pt.color,\n    value: pt.v,\n    percent: pt.percent,\n    text: pt.text,\n    // pt.v (and pt.i below) for backward compatibility\n    v: pt.v\n  }; // Only include pointNumber if it's unambiguous\n\n  if (pt.pts.length === 1) out.pointNumber = out.i = pt.pts[0]; // Add extra data arrays to the output\n  // notice that this is the multi-point version ('s' on the end!)\n  // so added data will be arrays matching the pointNumbers array.\n\n  appendArrayMultiPointValues(out, trace, pt.pts); // don't include obsolete fields in new funnelarea traces\n\n  if (trace.type === 'funnelarea') {\n    delete out.v;\n    delete out.i;\n  }\n\n  return out;\n};","map":null,"metadata":{},"sourceType":"script"}