{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n'use strict';\n\nvar d3 = require('d3');\n\nvar Color = require('../../components/color');\n\nvar stylePoints = require('../scatter/style').stylePoints;\n\nmodule.exports = function style(gd) {\n  var s = d3.select(gd).selectAll('g.trace.violins');\n  s.style('opacity', function (d) {\n    return d[0].trace.opacity;\n  });\n  s.each(function (d) {\n    var trace = d[0].trace;\n    var sel = d3.select(this);\n    var box = trace.box || {};\n    var boxLine = box.line || {};\n    var meanline = trace.meanline || {};\n    var meanLineWidth = meanline.width;\n    sel.selectAll('path.violin').style('stroke-width', trace.line.width + 'px').call(Color.stroke, trace.line.color).call(Color.fill, trace.fillcolor);\n    sel.selectAll('path.box').style('stroke-width', boxLine.width + 'px').call(Color.stroke, boxLine.color).call(Color.fill, box.fillcolor);\n    var meanLineStyle = {\n      'stroke-width': meanLineWidth + 'px',\n      'stroke-dasharray': 2 * meanLineWidth + 'px,' + meanLineWidth + 'px'\n    };\n    sel.selectAll('path.mean').style(meanLineStyle).call(Color.stroke, meanline.color);\n    sel.selectAll('path.meanline').style(meanLineStyle).call(Color.stroke, meanline.color);\n    stylePoints(sel, trace, gd);\n  });\n};","map":null,"metadata":{},"sourceType":"script"}